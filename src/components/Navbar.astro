---
import LanguageSwitcher from './LanguageSwitcher.astro';
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<nav class="fixed w-full z-20 top-0 transition-all duration-500" id="navbar">
  <div class="max-w-6xl mx-auto px-6 sm:px-8 py-6">
    <div class="flex justify-center items-center">
      <div class="flex items-center gap-6">
        <a 
        href="#home" 
        class="relative group"
      >
          <span class="hover:text-gray-600 transition-colors duration-300">{t('nav.home')}</span>
          <div class="absolute -bottom-1 left-0 w-full h-0.5 bg-gray-900/75 scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
        </a>
        <a 
          href="#portfolio" 
          class="relative group"
        >
          <span class="hover:text-gray-600 transition-colors duration-300">{t('nav.portfolio')}</span>
          <div class="absolute -bottom-1 left-0 w-full h-0.5 bg-gray-900/75 scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
        </a>
        <a 
          href="#contact" 
          class="relative group"
        >
          <span class="hover:text-gray-600 transition-colors duration-300">{t('nav.contact')}</span>
          <div class="absolute -bottom-1 left-0 w-full h-0.5 bg-gray-900/75 scale-x-0 group-hover:scale-x-100 transition-transform duration-300"></div>
        </a>
        <LanguageSwitcher />
      </div>
    </div>
  </div>
</nav>

<script>
  const navbar = document.getElementById('navbar');
  
  window.addEventListener('scroll', () => {
    if (window.scrollY > 50) {
      navbar?.classList.add('bg-white/60', 'backdrop-blur-sm', 'shadow-sm/50');
    } else {
      navbar?.classList.remove('bg-white/60', 'backdrop-blur-sm', 'shadow-sm/50');
    }
  });
</script>

<style>
  nav {
    backdrop-filter: blur(4px);
  }
</style> 