---
import PortfolioItem from './PortfolioItem.astro';
import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

type Category = {
  number: string;
  name: string;
  title: string;
  description?: string;
  color: 'purple' | 'rose' | 'emerald' | 'amber' | 'indigo' | 'cyan' | 'pink' | 'orange';
  images?: Array<{ src: string; alt: string; }>;
  titleImage: string;
}

const categories: Category[] = [
  {
    number: "01",
    name: "branding-ac-mint", 
    title: t('portfolio.branding.ac_mint'),
    titleImage: "/branding/branding-ac-mint/1.jpg",
    color: "pink",
  },
  {
    number: "02",
    name: "branding-shams-travel", 
    title: t('portfolio.branding.shams_travel'),
    titleImage: "/branding/branding-shams-travel/1.jpg",
    color: "indigo",
  },
  {
    number: "03",
    name: "branding-upscale", 
    title: t('portfolio.branding.upscale'),
    titleImage: "/branding/branding-upscale/1.jpg",
    color: "purple",
  },
  {
    number: "04",
    name: "catalogs",
    title: t('portfolio.brochures_catalogs'),
    titleImage: "/catalogs/catalog-iform/1.png",
    color: "orange",
  },
  {
    number: "05",
    name: "visit-cards",
    title: t('portfolio.visit_cards'),
    titleImage: "/visit-cards/visit-card-mehanizmi-ba/1.jpg",
    color: "rose",
  },
  {
    number: "06",
    name: "books",
    title: t('portfolio.cover_design'),
    titleImage: "/books/book/2.jpg",
    color: "emerald",
  },
  {
    number: "07",
    name: "print-media",
    title: t('portfolio.print_media_works'),
    titleImage: "/print-media/fascicle-zerromax/1.jpg",
    color: "amber",
  },
  {
    number: "08",
    name: "social-media",
    title: t('portfolio.social_media_content'),
    titleImage: "/social-media/social-adblue/0.jpg",
    color: "cyan",
  },
];
---

<section id="portfolio" class="scroll-mt-20 relative py-20 overflow-hidden">
  <!-- Creative Background -->
  <div class="absolute inset-0">
    <div class="absolute inset-0 bg-gradient-to-b from-transparent via-gray-50/50 to-white"></div>
    
    <!-- Floating decorative elements -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
      <div class="floating-shape absolute top-40 left-10 w-24 h-24 bg-purple-200/20 rounded-full blur-xl"></div>
      <div class="floating-shape absolute top-20 right-20 w-32 h-32 bg-rose-200/15 rounded-2xl blur-lg rotate-45" style="animation-delay: 3s;"></div>
      <div class="floating-shape absolute bottom-40 left-1/4 w-20 h-20 bg-emerald-200/25 rounded-full blur-md" style="animation-delay: 6s;"></div>
      <div class="floating-shape absolute bottom-20 right-1/3 w-28 h-28 bg-cyan-200/20 rounded-2xl blur-xl rotate-12" style="animation-delay: 2s;"></div>
    </div>
  </div>

  <div class="max-w-7xl mx-auto px-6 sm:px-8 relative z-10">
    
    
    <!-- Enhanced Portfolio Grid -->
    <div class="space-y-32">
      {categories.map((category, index) => (
        <div class={`portfolio-category ${index % 2 === 1 ? 'reverse' : ''}`} style={`animation-delay: ${index * 0.2}s;`}>
          <div class="portfolio-item-wrapper">
          <PortfolioItem 
            number={category.number}
            title={category.title}
            color={category.color}
            name={category.name}
            titleImage={category.titleImage}
          />
          </div>
        </div>
      ))}
    </div>
    

  </div>
</section>

<style>
  /* Floating animations */
  @keyframes float {
    0%, 100% { transform: translateY(0px) rotate(0deg); }
    33% { transform: translateY(-12px) rotate(1deg); }
    66% { transform: translateY(-6px) rotate(-1deg); }
  }
  
  .floating-shape {
    animation: float 10s ease-in-out infinite;
  }
  
  .floating-shape:nth-child(2) {
    animation: float 12s ease-in-out infinite reverse;
  }
  
  .floating-shape:nth-child(3) {
    animation: float 8s ease-in-out infinite;
  }
  
  .floating-shape:nth-child(4) {
    animation: float 14s ease-in-out infinite reverse;
  }

  /* Portfolio category animations */
  .portfolio-category {
    animation: slideInUp 0.8s ease-out forwards;
    opacity: 0;
    transform: translateY(40px);
  }
  
  @keyframes slideInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Enhanced portfolio item wrapper */
  .portfolio-item-wrapper {
    transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .portfolio-item-wrapper:hover {
    transform: translateY(-4px);
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .portfolio-category {
      text-align: left;
    }
  }
</style>


