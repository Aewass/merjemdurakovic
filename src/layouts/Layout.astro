---
interface Props {
	title: string;
}

import { getLangFromUrl } from '../i18n/utils';

const { title } = Astro.props;
const lang = getLangFromUrl(Astro.url);
---

<!doctype html>
<html lang={lang} class="scroll-smooth">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Merjem Durakovic - Digital Designer Portfolio" />
		<meta name="viewport" content="width=device-width" />
		
		<!-- Favicon references with all available icons -->
		<link rel="icon" href="/favicon.ico" />
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
		<link rel="manifest" href="/site.webmanifest" />
		<link rel="mask-icon" href="/android-chrome-192x192.png" color="#5bbad5" />
		<meta name="theme-color" content="#ffffff" />
		
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
		
		<!-- Open Graph / Social Media Meta Tags -->
		<meta property="og:title" content={title} />
		<meta property="og:description" content="Merjem Durakovic - Digital Designer Portfolio" />
		<meta property="og:type" content="website" />
		<meta property="og:url" content="https://merjedurakovic.netlify.app/" />
		
		<!-- Use favicon for social media previews -->
		<meta name="twitter:card" content="summary" /> 
		<meta name="twitter:image" content="https://merjedurakovic.netlify.app/android-chrome-512x512.png" />
		<meta property="og:image" content="https://merjedurakovic.netlify.app/android-chrome-512x512.png" />
		<meta property="og:image:width" content="512" />
		<meta property="og:image:height" content="512" />
		
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
		<noscript><link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet"></noscript>
		<script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
	</head>
	<body class="relative min-h-screen">
		<!-- Enhanced Background -->
		<div class="fixed inset-0 -z-10">
			<div class="absolute inset-0 bg-gradient-to-br from-rose-50/80 via-violet-50/60 to-cyan-50/80"></div>
			
			<!-- Floating background shapes -->
			<div class="absolute inset-0 overflow-hidden pointer-events-none">
				<div class="floating-bg-shape absolute top-1/4 left-10 w-96 h-96 bg-gradient-to-br from-rose-200/30 to-violet-200/20 rounded-full blur-3xl"></div>
				<div class="floating-bg-shape absolute top-1/3 right-20 w-80 h-80 bg-gradient-to-br from-cyan-200/25 to-emerald-200/20 rounded-full blur-3xl" style="animation-delay: 4s;"></div>
				<div class="floating-bg-shape absolute bottom-1/4 left-1/3 w-72 h-72 bg-gradient-to-br from-violet-200/30 to-rose-200/25 rounded-full blur-3xl" style="animation-delay: 8s;"></div>
			</div>
			
			<!-- Subtle grid overlay -->
			<div class="absolute inset-0 opacity-[0.015]" style="background-image: radial-gradient(circle at 2px 2px, rgba(0,0,0,0.15) 1px, transparent 0); background-size: 60px 60px;"></div>
		</div>
		
		<slot />
		
		<script>
			if (window.netlifyIdentity) {
				window.netlifyIdentity.on("init", (user) => {
					if (!user) {
						window.netlifyIdentity.on("login", () => {
							document.location.href = "/admin/";
						});
					}
				});
			}
		</script>
	</body>
</html>

<style is:global>
	:root {
		--font-heading: 'Outfit', sans-serif;
		--font-body: 'Plus Jakarta Sans', sans-serif;
	}

	body {
		font-family: var(--font-body);
	}

	h1, h2, h3, h4, h5, h6 {
		font-family: var(--font-heading);
	}

	/* Background floating animation */
	@keyframes floatBackground {
		0%, 100% { 
			transform: translateY(0px) translateX(0px) scale(1); 
		}
		33% { 
			transform: translateY(-30px) translateX(20px) scale(1.05); 
		}
		66% { 
			transform: translateY(-15px) translateX(-15px) scale(0.95); 
		}
	}
	
	.floating-bg-shape {
		animation: floatBackground 20s ease-in-out infinite;
	}
	
	.floating-bg-shape:nth-child(2) {
		animation: floatBackground 25s ease-in-out infinite reverse;
	}
	
	.floating-bg-shape:nth-child(3) {
		animation: floatBackground 18s ease-in-out infinite;
	}
</style>
